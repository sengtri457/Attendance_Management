<div class="login-wrapper">
  <div class="container">
    <div class="row justify-content-center align-items-center min-vh-100 py-5">

      <!-- Left Side - Illustration -->
      <div class="col-lg-6 d-none d-lg-block">
        <div class="illustration-container">
          <img src="/assets/images/secure.svg" alt="Login Illustration" class="img-fluid illustration-image">
        </div>
      </div>

      <!-- Right Side - Login Form -->
      <div class="col-md-8 col-lg-6">
        <div class="glass-card">
          <div class="card-body p-4 p-md-5">

            <!-- Header -->
            <div class="text-center mb-4">
              <img src="https://cdn-icons-png.flaticon.com/512/3589/3589030.png" alt="Icon" width="60" height="60">
              <h2 class="form-title mt-3 mb-1">Attendance Management</h2>
              <p class="form-subtitle">Sign in to your account</p>
            </div>

            <!-- Error Message -->
            @if (errorMessage) {
            <div class="custom-alert alert-error" role="alert">
              <i class="bi bi-exclamation-triangle-fill me-2"></i>
              <span>{{ errorMessage }}</span>
              <button type="button" class="alert-close" (click)="errorMessage = ''" aria-label="Close">
                <i class="bi bi-x"></i>
              </button>
            </div>
            }

            <!-- Login Form -->
            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

              <!-- Username Field -->
              <div class="mb-3">
                <label class="custom-label">Username</label>
                <input type="text" formControlName="username" class="custom-input"
                  [class.is-invalid]="loginForm.get('username')?.touched && loginForm.get('username')?.invalid"
                  placeholder="Enter your username" />
                @if (loginForm.get('username')?.touched && loginForm.get('username')?.invalid) {
                <div class="error-message">Username is required</div>
                }
              </div>

              <!-- Password Field -->
              <div class="mb-4">
                <label class="custom-label">Password</label>
                <input type="password" formControlName="password" class="custom-input"
                  [class.is-invalid]="loginForm.get('password')?.touched && loginForm.get('password')?.invalid"
                  placeholder="Enter your password" />
                @if (loginForm.get('password')?.touched && loginForm.get('password')?.invalid) {
                <div class="error-message">Password is required</div>
                }
              </div>

              <!-- Submit Button -->
              <button type="submit" [disabled]="loginForm.invalid || loading" class="custom-btn">
                @if (loading) {
                <span class="spinner-border spinner-border-sm me-2"></span>
                Logging in...
                } @else {
                <i class="bi bi-box-arrow-in-right me-2"></i>
                Sign In
                }
              </button>
            </form>

            <!-- Divider -->
            <div class="divider">
              <span class="divider-text">or</span>
            </div>

            <!-- Register Link -->
            <p class="text-center login-link mb-0">
              Don't have an account?
              <a routerLink="/auth/register" class="link">Create account</a>
            </p>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>